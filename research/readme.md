# Research Directory

このディレクトリには、morpheme-funcs 拡張機能のパフォーマンス評価に関する実験データと分析結果が含まれています。

## ディレクトリ構成

### sql/
形態素解析スコアの計算に関する実装の比較:

- `extension.sql`: 拡張機能を使用した実装
- `pure_sql.sql`: 純SQLによる実装

### plan/
実行計画と性能評価の結果:

- `extension_plan.plan`: 拡張機能使用時の実行計画
- `pure_sql_plan.plan`: 純SQL実装時の実行計画

## 評価結果の概要

### パフォーマンスの比較
- 拡張機能を使用した実装は純SQLによる実装と比較して高速に動作

### メモリ使用量
- テーブルサイズの削減が可能
  - 形態素解析結果をarray型で保持
  - 中間テーブルが不要

### より高速にするには
- テーブル側に形態素の配列を保持してインデックスを付与することで、純SQLは `calc_morpheme_score`関数を使うよりも高速
    - この場合はストレージ容量が必要であり、データ更新時にもインデックス更新などのコストが発生。クエリも複雑になる
    - `pureQueryUsingMorColumns.sql` がその例